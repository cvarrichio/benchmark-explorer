<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Performance Graph</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-moment"></script>
    <link rel="stylesheet" href="/static/css/benchmarkexplorer.css">
</head>
<body>
    {% if data %}
    <div class="chart-container"> <!-- Container for all graphs -->
    
        {% for data_dict in data %}
                {% set datasetName = data_dict['dataset'] %}
                {% set metricName = data_dict['metric'] %}
                {% set canvas_id = (datasetName ~ "_" ~ metricName) | replace("<", "_lt_") | replace(" ", "_") | replace("&", "and") %}
                {% set graph_data = {datasetName: {metricName: data_dict['papers']}} %}
                {% set task = data_dict['task'] %}
                {% set title = datasetName ~ " - " ~ metricName %}
                {% set show_title = false %}
                {% set showLegend = false %}
                <div class="chart-wrapper"> <!-- Individual graph container -->
                    <h2 class="chart-category">{{ task }}</h2>
                    <h3 class="chart-title">
                        {% if data_dict['dataset_links'] %}
                            <a href="{{ data_dict['dataset_links']['url'] }}" target="_blank">{{ title }}</a>
                        {% else %}
                            {{ title }}
                        {% endif %}
                    </h3> <!-- Link to dataset -->               
                    {% include "graph_component.html" %}
                </div>
        {% endfor %}
    </div>
    {% else %}
        <p>No data available.</p>
    {% endif %}
    

</body>

</html>