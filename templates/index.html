<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Performance Graph</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-moment"></script>
    <link rel="stylesheet" href="/static/css/benchmarkexplorer.css">
</head>
<body>
    {% if data %}
    <div class="chart-container"> <!-- Container for all graphs -->
    
        {% for datasetName, datasetDetails in data.items() %}
            {% for metricName, metricData in datasetDetails['sota_rows'].items() %}
            {% set canvas_id = (datasetName ~ "_" ~ metricName) | replace("<", "_lt_") | replace(" ", "_") | replace("&", "and") %}
            {% set graph_data = {datasetName: {metricName: metricData}} %}
            {% set task = datasetDetails['task'] %}
            {% set title = datasetName ~ " - " ~ metricName %}
            {% set show_title = false %}
            {% set showLegend = false %}
            <div class="chart-wrapper"> <!-- Individual graph container -->
                <h2 class="chart-category">{{ task }}</h2>
                <h3 class="chart-title">
                    {% if datasetDetails['dataset_links'] %}
                        <a href="{{ datasetDetails['dataset_links'][0]['url'] }}" target="_blank">{{ title }}</a>
                    {% else %}
                        {{ title }}
                    {% endif %}
                </h3> <!-- Link to dataset -->               
                {% include "graph_component.html" %}
            </div>
            {% endfor %}
        {% endfor %}
    </div>
    {% else %}
        <p>No data available.</p>
    {% endif %}
    

</body>

</html>